var d=Object.defineProperty;var p=(o,e,n)=>e in o?d(o,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[e]=n;var l=(o,e,n)=>p(o,typeof e!="symbol"?e+"":e,n);import{b as boundMethod,c as copy,_ as __unplugin_components_0,a as __unplugin_components_1,d as __unplugin_components_2}from"./DW2TKx_C.js";import{u as useTemplateRef,e as defineComponent,f as declareProviders,g as useService,r as resolveDirective,o as openBlock,c as createElementBlock,a as createBaseVNode,h as unref,b as createVNode,t as toDisplayString,i as withDirectives,v as vModelText,n as normalizeClass,j as createBlock}from"./Dmg8SZoR.js";import"./yAc-WoOV.js";import{u as useSeoMeta}from"./zDO6U6v6.js";import"./D7sdnylL.js";var __defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__decorateClass=(o,e,n,t)=>{for(var a=__getOwnPropDesc(e,n),r=o.length-1,i;r>=0;r--)(i=o[r])&&(a=i(e,n,a)||a);return a&&__defProp(e,n,a),a};class JsonlintService{constructor(){l(this,"containerRef",useTemplateRef("container"));l(this,"textarea1Ref",useTemplateRef("textarea1"));l(this,"textarea2Ref",useTemplateRef("textarea2"));l(this,"input","");l(this,"output","");l(this,"copyTooltipInput","点击复制");l(this,"copyTooltipOutput","点击复制");l(this,"decodeError",!1)}handleBeautify(){if(this.input)try{const o=JSON.parse(this.input);this.decodeError=!1,this.output=JSON.stringify(o,null,4)}catch(o){this.decodeError=!0,this.output=`json解析异常，请检查输入。${o}`}else this.decodeError=!0,this.output="无效的json字符串"}handleEval(){if(this.input)try{const json=eval(`(${this.input})`);this.decodeError=!1,this.output=JSON.stringify(json,null,4)}catch(o){this.decodeError=!0,this.output=`json解析异常，请检查输入。${o}`}else this.decodeError=!0,this.output="无效的json字符串"}handleMinify(){if(this.input)try{const o=JSON.parse(this.input);this.decodeError=!1,this.output=JSON.stringify(o,null,0)}catch(o){this.decodeError=!0,this.output=`json解析异常，请检查输入。${o}`}else this.decodeError=!0,this.output="无效的json字符串"}handleSwap(){const o=this.input;this.input=this.output,this.output=o}handleEmptyInput(){this.input=""}handleCopyInput(){copy(this.input),this.copyTooltipInput="复制成功",setTimeout(()=>{this.copyTooltipInput="点击复制"},2e3)}handleEmptyOutput(){this.output=""}handleCopyOutput(){copy(this.output),this.copyTooltipOutput="复制成功",setTimeout(()=>{this.copyTooltipOutput="点击复制"},2e3)}handleMousedownInput(){if(this.textarea1Ref.value&&this.textarea2Ref.value&&this.containerRef.value){if(window.getComputedStyle(this.containerRef.value).getPropertyValue("flex-direction")==="column")return;const e=this.textarea1Ref.value.style.height,n=this.textarea2Ref.value.style.height;!e&&n&&(this.textarea1Ref.value.style.height=n),this.textarea2Ref.value.style.height=""}}handleMousedownOutput(){if(this.textarea1Ref.value&&this.textarea2Ref.value&&this.containerRef.value){if(window.getComputedStyle(this.containerRef.value).getPropertyValue("flex-direction")==="column")return;const e=this.textarea1Ref.value.style.height,n=this.textarea2Ref.value.style.height;e&&!n&&(this.textarea2Ref.value.style.height=e),this.textarea1Ref.value.style.height=""}}}__decorateClass([boundMethod],JsonlintService.prototype,"handleBeautify");__decorateClass([boundMethod],JsonlintService.prototype,"handleEval");__decorateClass([boundMethod],JsonlintService.prototype,"handleMinify");__decorateClass([boundMethod],JsonlintService.prototype,"handleSwap");__decorateClass([boundMethod],JsonlintService.prototype,"handleEmptyInput");__decorateClass([boundMethod],JsonlintService.prototype,"handleCopyInput");__decorateClass([boundMethod],JsonlintService.prototype,"handleEmptyOutput");__decorateClass([boundMethod],JsonlintService.prototype,"handleCopyOutput");__decorateClass([boundMethod],JsonlintService.prototype,"handleMousedownInput");__decorateClass([boundMethod],JsonlintService.prototype,"handleMousedownOutput");const _hoisted_1={class:"px-6 py-10"},_hoisted_2={ref:"container",class:"flex w-full flex-col lg:flex-row"},_hoisted_3={class:"flex-grow lg:w-0"},_hoisted_4={class:"mb-2 flex justify-between gap-2"},_hoisted_5=["disabled"],_hoisted_6=["disabled"],_hoisted_7={class:"divider h-12 lg:divider-horizontal lg:h-auto lg:w-16"},_hoisted_8={class:"flex-grow lg:w-0"},_hoisted_9={class:"mb-2 flex justify-between gap-2"},_hoisted_10=["disabled"],_hoisted_11=["disabled"],_sfc_main$1=defineComponent({__name:"Jsonlint",setup(o){declareProviders([JsonlintService]);const e=useService(JsonlintService);return(n,t)=>{const a=__unplugin_components_0,r=__unplugin_components_1,i=__unplugin_components_2,u=resolveDirective("focus");return openBlock(),createElementBlock("div",_hoisted_1,[t[14]||(t[14]=createBaseVNode("article",{class:"prose mb-4 lg:prose-xl"},[createBaseVNode("h2",null,"JSON格式化/压缩"),createBaseVNode("ol",null,[createBaseVNode("li",null,"请在左侧文本输入框区域输入任意字符串；"),createBaseVNode("li",null,"点击中间区域的编码按钮/解码按钮；"),createBaseVNode("li",null,"右侧区域是展示编码结果/解码结果的地方。")])],-1)),createBaseVNode("div",_hoisted_2,[createBaseVNode("div",_hoisted_3,[createBaseVNode("div",_hoisted_4,[createBaseVNode("button",{disabled:!unref(e).input,class:"btn btn-success flex flex-1",onClick:t[0]||(t[0]=(...s)=>unref(e).handleCopyInput&&unref(e).handleCopyInput(...s))},[createVNode(a,{class:"size-6"}),createBaseVNode("span",null,toDisplayString(unref(e).copyTooltipInput),1)],8,_hoisted_5),createBaseVNode("button",{disabled:!unref(e).input,class:"btn flex flex-1",onClick:t[1]||(t[1]=(...s)=>unref(e).handleEmptyInput&&unref(e).handleEmptyInput(...s))},[createVNode(r,{class:"size-6"}),t[12]||(t[12]=createBaseVNode("span",null,"清空",-1))],8,_hoisted_6)]),withDirectives(createBaseVNode("textarea",{ref:"textarea1","onUpdate:modelValue":t[2]||(t[2]=s=>unref(e).input=s),placeholder:"请输入任意文字",class:"textarea textarea-bordered block h-[calc(100%-theme(space.14))] min-h-48 w-full focus:textarea-success lg:min-h-144",onMousedown:t[3]||(t[3]=(...s)=>unref(e).handleMousedownInput&&unref(e).handleMousedownInput(...s))},null,544),[[u],[vModelText,unref(e).input]])]),createBaseVNode("div",_hoisted_7,[createBaseVNode("button",{class:"btn btn-primary",onClick:t[4]||(t[4]=(...s)=>unref(e).handleBeautify&&unref(e).handleBeautify(...s))}," 美化 "),createBaseVNode("button",{class:"btn btn-primary",onClick:t[5]||(t[5]=(...s)=>unref(e).handleEval&&unref(e).handleEval(...s))}," Eval "),createBaseVNode("button",{class:"btn btn-secondary",onClick:t[6]||(t[6]=(...s)=>unref(e).handleMinify&&unref(e).handleMinify(...s))}," 压缩 "),createBaseVNode("button",{class:"btn btn-neutral",onClick:t[7]||(t[7]=(...s)=>unref(e).handleSwap&&unref(e).handleSwap(...s))},[createVNode(i,{class:"size-6 rotate-90 lg:rotate-0"})])]),createBaseVNode("div",_hoisted_8,[createBaseVNode("div",_hoisted_9,[createBaseVNode("button",{disabled:!unref(e).output,class:"btn btn-success flex flex-1",onClick:t[8]||(t[8]=(...s)=>unref(e).handleCopyOutput&&unref(e).handleCopyOutput(...s))},[createVNode(a,{class:"size-6"}),createBaseVNode("span",null,toDisplayString(unref(e).copyTooltipOutput),1)],8,_hoisted_10),createBaseVNode("button",{disabled:!unref(e).output,class:"btn flex flex-1",onClick:t[9]||(t[9]=(...s)=>unref(e).handleEmptyOutput&&unref(e).handleEmptyOutput(...s))},[createVNode(r,{class:"size-6"}),t[13]||(t[13]=createBaseVNode("span",null,"清空",-1))],8,_hoisted_11)]),withDirectives(createBaseVNode("textarea",{ref:"textarea2",readonly:"","onUpdate:modelValue":t[10]||(t[10]=s=>unref(e).output=s),placeholder:"这里是编码/解码的结果",class:normalizeClass(["textarea textarea-bordered block h-[calc(100%-theme(space.14))] min-h-144 w-full",[unref(e).decodeError?"textarea-error text-4xl text-danger":""]]),onMousedown:t[11]||(t[11]=(...s)=>unref(e).handleMousedownOutput&&unref(e).handleMousedownOutput(...s))},null,34),[[vModelText,unref(e).output]])])],512)])}}}),_sfc_main=defineComponent({__name:"index",setup(o){return useSeoMeta({title:"kaokei"}),(e,n)=>(openBlock(),createBlock(_sfc_main$1))}});export{_sfc_main as default};
